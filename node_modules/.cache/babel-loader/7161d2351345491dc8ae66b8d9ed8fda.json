{"ast":null,"code":"import _regeneratorRuntime from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component,useState}from\"react\";import'../css/RegisterScreen.css';import validator from'validator';import{withRouter}from\"react-router\";import bubbles from\"./images/bubble.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterUser=/*#__PURE__*/function(_Component){_inherits(RegisterUser,_Component);var _super=_createSuper(RegisterUser);function RegisterUser(props){var _this;_classCallCheck(this,RegisterUser);_this=_super.call(this,props);_this.onsubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var name,home,location,email,phone,address;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=e.target.elements.full_name.value;home=e.target.elements.home.value;location=e.target.elements.location.value;email=e.target.elements.email.value;phone=e.target.elements.phone.value;address=e.target.elements.userAddress.value;_context.next=9;return _this.props.contract.methods.addUser(name,home,location,email,phone).send({from:address}).then(function(result){console.log(\"Function succesfully terminated\");});case 9:window.location.reload(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={emailError:'',phoneError:'',userAccount:_this.props.Account,contract:_this.props.contract};return _this;}_createClass(RegisterUser,[{key:\"validateEmail\",value:function validateEmail(e){var email=e.target.value;if(validator.isEmail(email)){this.setState({emailError:'Valid Email!'});}else{this.setState({emailError:'Enter valid Email!'});}}},{key:\"validatePhoneNumber\",value:function validatePhoneNumber(e){var number=e.target.value;var isValidPhoneNumber=validator.isMobilePhone(number,'en-IN');if(isValidPhoneNumber){this.setState({phoneError:'Valid Phone!'});}else{this.setState({phoneError:\"Invalid Phone Number\"});}}},{key:\"render\",value:function render(){var _this2=this;document.title=\"User Registration\";return/*#__PURE__*/_jsxs(\"div\",{color:\"lightblue\",children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onsubmit,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up for User\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"userAddress\",readOnly:true,value:this.state.userAccount=this.props.Account,disabled:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter full name\",name:\"full_name\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Home adddress\",name:\"home\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter City\",name:\"location\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"Enter Email\",onChange:function onChange(e){return _this2.validateEmail(e);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'red'},children:this.state.emailError}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",placeholder:\"Enter Phone\",onChange:function onChange(e){return _this2.validatePhoneNumber(e);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'red'},children:this.state.phoneError}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2 btn-sm w-50\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bubbles\",children:[/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles}),/*#__PURE__*/_jsx(\"img\",{src:bubbles})]})]});}}]);return RegisterUser;}(Component);export default withRouter(RegisterUser);","map":{"version":3,"sources":["/home/demonwolf/WebstormProjects/SPE-final-project/src/components/RegisterUser.js"],"names":["React","Component","useState","validator","withRouter","bubbles","RegisterUser","props","onsubmit","e","preventDefault","name","target","elements","full_name","value","home","location","email","phone","address","userAddress","contract","methods","addUser","send","from","then","result","console","log","window","reload","state","emailError","phoneError","userAccount","Account","isEmail","setState","number","isValidPhoneNumber","isMobilePhone","document","title","validateEmail","fontWeight","color","validatePhoneNumber"],"mappings":"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","sourcesContent":["import React, {Component, useState} from \"react\";\nimport '../css/RegisterScreen.css'\nimport validator from 'validator'\nimport {withRouter} from \"react-router\";\nimport bubbles from \"./images/bubble.png\";\n\nclass RegisterUser extends Component{\n\n\n    constructor(props) {\n        super(props);\n        this.state={emailError: '', phoneError :'', userAccount :this.props.Account, contract:this.props.contract};\n\n    }\n\n    validateEmail(e){\n        let email = e.target.value;\n\n        if (validator.isEmail(email)) {\n            this.setState({emailError : 'Valid Email!'});\n        }\n        else {\n            this.setState({emailError : 'Enter valid Email!'});\n        }\n    }\n\n    validatePhoneNumber(e){\n        const number = e.target.value;\n        const isValidPhoneNumber = validator.isMobilePhone(number, 'en-IN')\n        if(isValidPhoneNumber){\n            this.setState({phoneError :'Valid Phone!'});\n        }\n        else {\n            this.setState({phoneError : \"Invalid Phone Number\"});\n        }\n    }\n\n    onsubmit = async(e)=>{\n\n        e.preventDefault();\n        const name = e.target.elements.full_name.value;\n        const home = e.target.elements.home.value;\n        const location = e.target.elements.location.value;\n        const email = e.target.elements.email.value;\n        const phone = e.target.elements.phone.value;\n        const address= e.target.elements.userAddress.value;\n        await this.props.contract.methods.addUser(name,home,location, email,phone).send({from : address}).then(function(result){\n            console.log(\"Function succesfully terminated\");\n        });\n        window.location.reload(false);\n\n    }\n    render(){\n        document.title = \"User Registration\";\n    return(\n        <div color= \"lightblue\">\n            <form onSubmit={this.onsubmit}><br></br>\n                <h1>Sign Up for User</h1><br></br>\n                <input type =\"text\"  name = \"userAddress\" readOnly={true} value={this.state.userAccount = this.props.Account} disabled={true}/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter full name\" name=\"full_name\"   required/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter Home adddress\" name=\"home\"   required/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter City\" name=\"location\" required/><br></br><br></br>\n                <input type=\"text\" name=\"email\" placeholder=\"Enter Email\"\n    onChange={(e) => this.validateEmail(e)}/> <br/>\n                <span style={{\n                    fontWeight: 'bold',\n                    color: 'red',\n                }}>{this.state.emailError}</span><br></br>\n                <input type=\"text\" name=\"phone\" placeholder=\"Enter Phone\"\n    onChange={(e) => this.validatePhoneNumber(e)}/> <br/>\n                <span style={{\n                    fontWeight: 'bold',\n                    color: 'red',\n                }}>{this.state.phoneError}</span><br></br>\n                <button className=\"btn btn-primary mt-2 btn-sm w-50\">Sign Up</button>\n            </form>\n            <div className=\"bubbles\">\n                <img src={bubbles}/>\n                <img src={bubbles}/>\n                <img src={bubbles}/><img src={bubbles}/>\n                <img src={bubbles}/>\n                <img src={bubbles}/>\n                <img src={bubbles}/>\n                <img src={bubbles}/>\n\n\n            </div>\n        </div>\n    )}\n}\n\nexport default withRouter(RegisterUser);"]},"metadata":{},"sourceType":"module"}