{"ast":null,"code":"import _regeneratorRuntime from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'react-bootstrap';import\"../css/table.css\";import'../css/RegisterScreen.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var green='#FFd177';var yellow='#39D1B4';var userselection=/*#__PURE__*/function(_React$Component){_inherits(userselection,_React$Component);var _super=_createSuper(userselection);function userselection(props){var _this;_classCallCheck(this,userselection);_this=_super.call(this,props);_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();console.log(_this.state.servi.Address);_context.next=4;return _this.state.contract.methods.service_choice(_this.state.servi.Address).send({from:_this.state.account});case 4:_context.next=6;return _this.state.contract.methods.Users(_this.state.servi.Address).call().then(function(result){console.log(result.ongiong_service);});case 6:console.log(\"pressed\");_this.setState({submitted:true});window.location.reload(false);case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={contract:_this.props.contract,account:_this.props.account,servi:_this.props.sp,submitted:_this.props.sp.ongiong_service};console.log(\"I am called\");_this.changeColor=_this.changeColor.bind(_assertThisInitialized(_this));return _this;}_createClass(userselection,[{key:\"changeColor\",value:function changeColor(){var newColor=this.state.color===green?yellow:green;this.setState({color:newColor});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{children:[\"Address:\",this.state.servi.Address]}),/*#__PURE__*/_jsxs(\"th\",{colSpan:\"2\",children:[this.state.servi.name,/*#__PURE__*/_jsx(\"br\",{}),\" \",this.state.servi.city]})]})})}),/*#__PURE__*/_jsx(\"table\",{style:{'border':\"black\"},children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:this.state.servi.phone}),/*#__PURE__*/_jsx(\"td\",{children:this.state.servi.email}),/*#__PURE__*/_jsx(\"td\",{bgcolor:\"red\",children:/*#__PURE__*/_jsx(\"button\",{onClick:this.changeColor,hidden:this.state.submitted?\"true\":\"\",children:\"Accept Service Request\"})})]}),/*#__PURE__*/_jsx(\"tr\",{})]})})]})]});}}]);return userselection;}(React.Component);export default userselection;","map":{"version":3,"sources":["/home/demonwolf/WebstormProjects/SPE-final-project/src/components/userselection.js"],"names":["React","green","yellow","userselection","props","onSubmit","e","preventDefault","console","log","state","servi","Address","contract","methods","service_choice","send","from","account","Users","call","then","result","ongiong_service","setState","submitted","window","location","reload","sp","changeColor","bind","newColor","color","name","city","phone","email","Component"],"mappings":"4pCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,MAAO,kBAAP,CACA,MAAO,2BAAP,C,wFACA,GAAMC,CAAAA,KAAK,CAAG,SAAd,CACA,GAAMC,CAAAA,MAAM,CAAG,SAAf,C,GAEMC,CAAAA,a,0HAGF,uBAAYC,KAAZ,CAAkB,+CACd,uBAAMA,KAAN,EADc,MAkBlBC,QAlBkB,0FAkBP,iBAAMC,CAAN,kHACPA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,OAA7B,EAFO,sBAID,OAAKF,KAAL,CAAWG,QAAX,CAAoBC,OAApB,CAA4BC,cAA5B,CAA2C,MAAKL,KAAL,CAAWC,KAAX,CAAiBC,OAA5D,EAAqEI,IAArE,CAA0E,CAACC,IAAI,CAAC,MAAKP,KAAL,CAAWQ,OAAjB,CAA1E,CAJC,8BAMD,OAAKR,KAAL,CAAWG,QAAX,CAAoBC,OAApB,CAA4BK,KAA5B,CAAkC,MAAKT,KAAL,CAAWC,KAAX,CAAiBC,OAAnD,EAA4DQ,IAA5D,GACDC,IADC,CACI,SAASC,MAAT,CAAgB,CAClBd,OAAO,CAACC,GAAR,CAAYa,MAAM,CAACC,eAAnB,EACH,CAHC,CANC,QAUPf,OAAO,CAACC,GAAR,CAAY,SAAZ,EACA,MAAKe,QAAL,CAAc,CAACC,SAAS,CAAC,IAAX,CAAd,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAZO,sDAlBO,+DAEd,MAAKlB,KAAL,CAAW,CAAEG,QAAQ,CAAE,MAAKT,KAAL,CAAWS,QAAvB,CACPK,OAAO,CAAG,MAAKd,KAAL,CAAWc,OADd,CAEPP,KAAK,CAAC,MAAKP,KAAL,CAAWyB,EAFV,CAGPJ,SAAS,CAAC,MAAKrB,KAAL,CAAWyB,EAAX,CAAcN,eAHjB,CAAX,CAMAf,OAAO,CAACC,GAAR,CAAY,aAAZ,EACA,MAAKqB,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CATc,aAWjB,C,qDAED,sBAAa,CACT,GAAMC,CAAAA,QAAQ,CAAG,KAAKtB,KAAL,CAAWuB,KAAX,GAAqBhC,KAArB,CAA6BC,MAA7B,CAAsCD,KAAvD,CACA,KAAKuB,QAAL,CAAc,CAAES,KAAK,CAAED,QAAT,CAAd,EACH,C,sBAiBD,iBAAQ,CACJ,mBACI,oCAEI,aAFJ,cAGI,aAHJ,cAII,cAAM,QAAQ,CAAE,KAAK3B,QAArB,wBACI,oCACI,oCACA,mCACI,iCAAa,KAAKK,KAAL,CAAWC,KAAX,CAAiBC,OAA9B,GADJ,cAEI,YAAI,OAAO,CAAC,GAAZ,WAAiB,KAAKF,KAAL,CAAWC,KAAX,CAAiBuB,IAAlC,cAAuC,aAAvC,KAAkD,KAAKxB,KAAL,CAAWC,KAAX,CAAiBwB,IAAnE,GAFJ,GADA,EADJ,EADJ,cAQY,cAAO,KAAK,CAAE,CAAC,SAAW,OAAZ,CAAd,uBACR,sCACA,mCACI,oBAAK,KAAKzB,KAAL,CAAWC,KAAX,CAAiByB,KAAtB,EADJ,cAEI,oBAAK,KAAK1B,KAAL,CAAWC,KAAX,CAAiB0B,KAAtB,EAFJ,cAGI,WAAI,OAAO,CAAE,KAAb,uBAAoB,eAAQ,OAAO,CAAE,KAAKP,WAAtB,CAAmC,MAAM,CAAE,KAAKpB,KAAL,CAAWe,SAAX,CAAsB,MAAtB,CAA6B,EAAxE,oCAApB,EAHJ,GADA,cAMA,aANA,GADQ,EARZ,GAJJ,GADJ,CAiCH,C,2BAtEwBzB,KAAK,CAACsC,S,EAwEnC,cAAenC,CAAAA,aAAf","sourcesContent":["import React from 'react'\nimport 'react-bootstrap';\nimport \"../css/table.css\"\nimport '../css/RegisterScreen.css'\nconst green = '#FFd177';\nconst yellow = '#39D1B4';\n\nclass userselection extends  React.Component{\n\n\n    constructor(props){\n        super(props);\n        this.state={ contract :this.props.contract,\n            account : this.props.account,\n            servi:this.props.sp,\n            submitted:this.props.sp.ongiong_service\n\n        };\n        console.log(\"I am called\");\n        this.changeColor = this.changeColor.bind(this);\n\n    }\n\n    changeColor(){\n        const newColor = this.state.color === green ? yellow : green;\n        this.setState({ color: newColor })\n    }\n\n    onSubmit = async(e) => {\n        e.preventDefault();\n        console.log(this.state.servi.Address);\n\n        await this.state.contract.methods.service_choice(this.state.servi.Address).send({from:this.state.account});\n\n        await this.state.contract.methods.Users(this.state.servi.Address).call()\n            .then(function(result){\n                console.log(result.ongiong_service);\n            });\n        console.log(\"pressed\");\n        this.setState({submitted:true})\n        window.location.reload(false);\n    }\n\n    render(){\n        return (\n            <div >\n\n                <br></br>\n                <br></br>\n                <form onSubmit={this.onSubmit}>\n                    <table>\n                        <thead>\n                        <tr>\n                            <th>Address:{this.state.servi.Address}</th>\n                            <th colSpan=\"2\">{this.state.servi.name}<br></br> {this.state.servi.city}</th>\n                        </tr>\n                        </thead>\n                    </table><table style={{'border' : \"black\" }}>\n                    <tbody>\n                    <tr>\n                        <td>{this.state.servi.phone}</td>\n                        <td>{this.state.servi.email}</td>\n                        <td bgcolor={\"red\"}><button onClick={this.changeColor} hidden={this.state.submitted? \"true\":\"\"}>Accept Service Request</button></td>\n                    </tr>\n                    <tr>\n\n                    </tr>\n                    </tbody>\n\n                </table>\n                </form>\n\n\n\n\n            </div>\n        )\n    }\n}\nexport default userselection;"]},"metadata":{},"sourceType":"module"}