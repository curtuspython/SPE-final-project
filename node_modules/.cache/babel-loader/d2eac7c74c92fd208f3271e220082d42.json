{"ast":null,"code":"import _regeneratorRuntime from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useEffect}from\"react\";import'react-bootstrap';import{useState}from'react';import DisplayComponent from\"./DisplayComoponent\";import\"../css/RegisterScreen.css\";import panda from\"./images/panda.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DisplayServiceProviders=/*#__PURE__*/function(_React$Component){_inherits(DisplayServiceProviders,_React$Component);var _super=_createSuper(DisplayServiceProviders);function DisplayServiceProviders(props){var _this;_classCallCheck(this,DisplayServiceProviders);_this=_super.call(this,props);_this.onChange=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var x;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:x=null;_this.setState({type_of_sp:e.target.value});_context.next=4;return _this.props.Contract.methods.getAllServiceProviders().call();case 4:x=_context.sent;_this.setState({service_providers:x});console.log(_this.state.service_providers);case 7:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.check_service_Cancelled=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:case\"end\":return _context2.stop();}}},_callee2);}));_this.onSubmit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e){var i,x,z,_x3;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();i=0;x=null;z=[];case 4:if(!(i<_this.state.service_providers.length)){_context3.next=12;break;}_context3.next=7;return _this.props.Contract.methods.ServiceProviders(_this.state.service_providers[i]).call();case 7:_x3=_context3.sent;if(_x3.service_type===_this.state.type_of_sp&&_x3.status===true)z.push(_x3);case 9:++i;_context3.next=4;break;case 12:_this.setState({list_of_selected_sp:z});console.log(z);case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.state={service_providers:null,type_of_sp:1,isSubmitted:false,list_of_selected_sp:[]};return _this;}_createClass(DisplayServiceProviders,[{key:\"render\",value:function render(){var _this2=this;document.title=\"Select Provider\";if(this.props.flag===false){return/*#__PURE__*/_jsxs(\"div\",{class:\"hero\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"panda\",children:[/*#__PURE__*/_jsx(\"img\",{src:panda}),/*#__PURE__*/_jsx(\"br\",{}),\" Your Helper\"]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{id:\"service_type\",children:\"Choose the service category :\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"service_type\",style:{width:400,height:30,background:\"yellow\",margin:30},onChange:this.onChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Carpentry\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Plumbing\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Painting\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"Electrical\"})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Find\"})]}),this.state.list_of_selected_sp.length===0?/*#__PURE__*/_jsx(\"h4\",{children:\"No service provider for selected category.\"}):/*#__PURE__*/_jsx(\"h2\",{}),/*#__PURE__*/_jsx(\"div\",{children:this.state.list_of_selected_sp.map(function(sp,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"users\",children:/*#__PURE__*/_jsx(DisplayComponent,{sp:sp,contract:_this2.props.Contract,account:_this2.props.Account})})},index);})})]});}else{return/*#__PURE__*/_jsxs(\"div\",{class:\"hero\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"service provider denied your request\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.onSubmit,children:[/*#__PURE__*/_jsx(\"label\",{id:\"service_type\",children:\"Choose the service category :\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"service_type\",style:{width:400,height:30,background:\"yellow\",margin:30},onChange:this.onChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Carpentry\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Plumbing\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Painting\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"Electrical\"})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Find\"})]}),/*#__PURE__*/_jsx(\"div\",{children:this.state.list_of_selected_sp.map(function(sp,index){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"users\",children:/*#__PURE__*/_jsx(DisplayComponent,{sp:sp,contract:_this2.props.Contract,account:_this2.props.Account})})},index);})})]});}}}]);return DisplayServiceProviders;}(React.Component);export default DisplayServiceProviders;","map":{"version":3,"sources":["/home/demonwolf/WebstormProjects/SPE-final-project/src/components/DisplayServiceProviders.js"],"names":["React","useEffect","useState","DisplayComponent","panda","DisplayServiceProviders","props","onChange","e","x","setState","type_of_sp","target","value","Contract","methods","getAllServiceProviders","call","service_providers","console","log","state","check_service_Cancelled","onSubmit","preventDefault","i","z","length","ServiceProviders","service_type","status","push","list_of_selected_sp","isSubmitted","document","title","flag","width","height","background","margin","map","sp","index","Account","Component"],"mappings":"m+BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,iBAAP,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,qBAA7B,CACA,MAAO,2BAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,C,2FAEMC,CAAAA,uB,8IAEF,iCAAYC,KAAZ,CAAmB,yDACf,uBAAMA,KAAN,EADe,MASnBC,QATmB,0FASR,iBAAMC,CAAN,wHACHC,CADG,CACC,IADD,CAEP,MAAKC,QAAL,CAAc,CAACC,UAAU,CAACH,CAAC,CAACI,MAAF,CAASC,KAArB,CAAd,EAFO,sBAGG,OAAKP,KAAL,CAAWQ,QAAX,CAAoBC,OAApB,CAA4BC,sBAA5B,GAAqDC,IAArD,EAHH,QAGPR,CAHO,eAIP,MAAKC,QAAL,CAAc,CAACQ,iBAAiB,CAAGT,CAArB,CAAd,EACAU,OAAO,CAACC,GAAR,CAAY,MAAKC,KAAL,CAAWH,iBAAvB,EALO,sDATQ,qEAkBnBI,uBAlBmB,sEAkBQ,yLAlBR,SAsBnBC,QAtBmB,2FAsBR,kBAAOf,CAAP,oIACPA,CAAC,CAACgB,cAAF,GACIC,CAFG,CAEA,CAFA,CAGHhB,CAHG,CAGC,IAHD,CAIHiB,CAJG,CAIC,EAJD,aAKFD,CAAC,CAAC,MAAKJ,KAAL,CAAWH,iBAAX,CAA6BS,MAL7B,mDAMW,OAAKrB,KAAL,CAAWQ,QAAX,CAAoBC,OAApB,CAA4Ba,gBAA5B,CAA6C,MAAKP,KAAL,CAAWH,iBAAX,CAA6BO,CAA7B,CAA7C,EAA8ER,IAA9E,EANX,QAMCR,GAND,gBAOH,GAAGA,GAAC,CAACoB,YAAF,GAAmB,MAAKR,KAAL,CAAWV,UAA9B,EAA4CF,GAAC,CAACqB,MAAF,GAAa,IAA5D,CACIJ,CAAC,CAACK,IAAF,CAAOtB,GAAP,EARD,OAKqC,EAAEgB,CALvC,gCAUP,MAAKf,QAAL,CAAc,CAACsB,mBAAmB,CAACN,CAArB,CAAd,EACAP,OAAO,CAACC,GAAR,CAAYM,CAAZ,EAXO,yDAtBQ,iEAEf,MAAKL,KAAL,CAAY,CAACH,iBAAiB,CAAC,IAAnB,CACZP,UAAU,CAAC,CADC,CAEZsB,WAAW,CAAC,KAFA,CAGZD,mBAAmB,CAAE,EAHT,CAAZ,CAFe,aAOlB,C,0DA6BL,iBAAS,iBACDE,QAAQ,CAACC,KAAT,CAAiB,iBAAjB,CACA,GAAI,KAAK7B,KAAL,CAAW8B,IAAX,GAAoB,KAAxB,CAA+B,CAC/B,mBACI,aAAK,KAAK,CAAC,MAAX,wBACI,mCACI,aAAK,SAAS,CAAC,OAAf,wBAAuB,YAAK,GAAG,CAAEhC,KAAV,EAAvB,cAA8C,aAA9C,kBADJ,cAEI,aAFJ,GADJ,cAKI,cAAM,QAAQ,CAAE,KAAKmB,QAArB,wBACI,cAAO,EAAE,CAAE,cAAX,2CADJ,cAEI,gBAAQ,EAAE,CAAC,cAAX,CAA0B,KAAK,CAAE,CAC7Bc,KAAK,CAAE,GADsB,CACjBC,MAAM,CAAE,EADS,CACLC,UAAU,CAAE,QADP,CAE7BC,MAAM,CAAE,EAFqB,CAAjC,CAGG,QAAQ,CAAE,KAAKjC,QAHlB,CAG4B,QAAQ,KAHpC,wBAII,eAAQ,KAAK,CAAE,EAAf,EAJJ,cAKI,eAAQ,KAAK,CAAE,CAAf,uBALJ,cAMI,eAAQ,KAAK,CAAE,CAAf,sBANJ,cAOI,eAAQ,KAAK,CAAE,CAAf,sBAPJ,cAQI,eAAQ,KAAK,CAAE,CAAf,wBARJ,GAFJ,cAaI,gCAbJ,GALJ,CAqBK,KAAKc,KAAL,CAAWW,mBAAX,CAA+BL,MAA/B,GAA0C,CAA1C,cACG,kEADH,cACyD,aAtB9D,cAyBI,qBAGQ,KAAKN,KAAL,CAAWW,mBAAX,CAA+BS,GAA/B,CAAmC,SAACC,EAAD,CAAKC,KAAL,qBAAgB,kCAE/C,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,gBAAD,EAAkB,EAAE,CAAED,EAAtB,CAA0B,QAAQ,CAAE,MAAI,CAACpC,KAAL,CAAWQ,QAA/C,CAAyD,OAAO,CAAE,MAAI,CAACR,KAAL,CAAWsC,OAA7E,EADJ,EAF+C,EAAUD,KAAV,CAAhB,EAAnC,CAHR,EAzBJ,GADJ,CAuCH,CAxCG,IAwCG,CACH,mBACI,aAAK,KAAK,CAAC,MAAX,wBACI,4DADJ,cAEI,cAAM,QAAQ,CAAE,KAAKpB,QAArB,wBACI,cAAO,EAAE,CAAE,cAAX,2CADJ,cAEI,gBAAQ,EAAE,CAAC,cAAX,CAA0B,KAAK,CAAE,CAC7Bc,KAAK,CAAE,GADsB,CACjBC,MAAM,CAAE,EADS,CACLC,UAAU,CAAE,QADP,CAE7BC,MAAM,CAAE,EAFqB,CAAjC,CAGG,QAAQ,CAAE,KAAKjC,QAHlB,CAG4B,QAAQ,KAHpC,wBAII,eAAQ,KAAK,CAAE,EAAf,EAJJ,cAKI,eAAQ,KAAK,CAAE,CAAf,uBALJ,cAMI,eAAQ,KAAK,CAAE,CAAf,sBANJ,cAOI,eAAQ,KAAK,CAAE,CAAf,sBAPJ,cAQI,eAAQ,KAAK,CAAE,CAAf,wBARJ,GAFJ,cAaI,gCAbJ,GAFJ,cAiBI,qBACK,KAAKc,KAAL,CAAWW,mBAAX,CAA+BS,GAA/B,CAAmC,SAACC,EAAD,CAAKC,KAAL,qBAAgB,kCAE5C,YAAK,SAAS,CAAC,OAAf,uBACI,KAAC,gBAAD,EAAkB,EAAE,CAAED,EAAtB,CAA0B,QAAQ,CAAE,MAAI,CAACpC,KAAL,CAAWQ,QAA/C,CAAyD,OAAO,CAAE,MAAI,CAACR,KAAL,CAAWsC,OAA7E,EADJ,EAF4C,EAAUD,KAAV,CAAhB,EAAnC,CADL,EAjBJ,GADJ,CA4BH,CACJ,C,qCA9GqC3C,KAAK,CAAC6C,S,EAkH5C,cAAexC,CAAAA,uBAAf","sourcesContent":["import React, {useEffect} from \"react\";\nimport 'react-bootstrap';\nimport {useState} from 'react';\nimport DisplayComponent from \"./DisplayComoponent\";\nimport \"../css/RegisterScreen.css\"\nimport panda from \"./images/panda.png\";\n\nclass DisplayServiceProviders extends React.Component{\n\n    constructor(props) {\n        super(props);\n        this.state ={service_providers:null,\n        type_of_sp:1,\n        isSubmitted:false,\n        list_of_selected_sp: []};\n\n    }\n\n    onChange = async(e) =>{\n        let x = null;\n        this.setState({type_of_sp:e.target.value});\n        x = await this.props.Contract.methods.getAllServiceProviders().call();\n        this.setState({service_providers : x});\n        console.log(this.state.service_providers);\n\n    }\n\n    check_service_Cancelled =  async() =>{\n\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault()\n        let i =0;\n        let x = null;\n        let z = [];\n        for(;i<this.state.service_providers.length; ++i){\n            let x = await this.props.Contract.methods.ServiceProviders(this.state.service_providers[i]).call()\n            if(x.service_type === this.state.type_of_sp && x.status === true)\n                z.push(x)\n        }\n        this.setState({list_of_selected_sp:z })\n        console.log(z);\n\n    }\nrender() {\n        document.title = \"Select Provider\";\n        if (this.props.flag === false) {\n        return (\n            <div class=\"hero\">\n                <h2>\n                    <div className=\"panda\"><img src={panda}></img><br></br> Your Helper</div>\n                    <br></br>\n                </h2>\n                <form onSubmit={this.onSubmit}>\n                    <label id={\"service_type\"}>Choose the service category :</label>\n                    <select id=\"service_type\" style={{\n                        width: 400, height: 30, background: \"yellow\",\n                        margin: 30\n                    }} onChange={this.onChange} required>\n                        <option value={\"\"}></option>\n                        <option value={1}>Carpentry</option>\n                        <option value={2}>Plumbing</option>\n                        <option value={3}>Painting</option>\n                        <option value={4}>Electrical</option>\n                    </select>\n\n                    <button>Find</button>\n                </form>\n\n                {this.state.list_of_selected_sp.length === 0 ?\n                    <h4>No service provider for selected category.</h4> : <h2></h2>\n                }\n\n                <div>\n                    {\n\n                        this.state.list_of_selected_sp.map((sp, index) => (<div key={index}>\n\n                            <div className='users'>\n                                <DisplayComponent sp={sp} contract={this.props.Contract} account={this.props.Account}/>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        )\n    } else {\n        return (\n            <div class=\"hero\">\n                <h1>service provider denied your request</h1>\n                <form onSubmit={this.onSubmit}>\n                    <label id={\"service_type\"}>Choose the service category :</label>\n                    <select id=\"service_type\" style={{\n                        width: 400, height: 30, background: \"yellow\",\n                        margin: 30\n                    }} onChange={this.onChange} required>\n                        <option value={\"\"}></option>\n                        <option value={1}>Carpentry</option>\n                        <option value={2}>Plumbing</option>\n                        <option value={3}>Painting</option>\n                        <option value={4}>Electrical</option>\n                    </select>\n\n                    <button>Find</button>\n                </form>\n                <div>\n                    {this.state.list_of_selected_sp.map((sp, index) => (<div key={index}>\n\n                            <div className='users'>\n                                <DisplayComponent sp={sp} contract={this.props.Contract} account={this.props.Account}/>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            </div>)\n    }\n}\n\n}\n\nexport default DisplayServiceProviders;"]},"metadata":{},"sourceType":"module"}