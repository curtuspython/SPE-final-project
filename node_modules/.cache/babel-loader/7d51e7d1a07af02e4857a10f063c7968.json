{"ast":null,"code":"import _regeneratorRuntime from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import'react-bootstrap';import{useState}from'react';import validator from\"validator\";import{BrowserRouter}from\"react-router-dom\";import{withRouter,Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterServiceProvider=function RegisterServiceProvider(_ref){var Account=_ref.Account,contract=_ref.contract;var _useState=useState(0x0),_useState2=_slicedToArray(_useState,2),typeservice=_useState2[0],setType=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),emailError=_useState4[0],setEmailError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),phoneError=_useState6[0],setPhoneError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),navigate=_useState8[0],setNavigate=_useState8[1];document.title=\"Service Provider Registration\";var onChange=function onChange(e){if(e.target.value==\"default\"){setType(Number(0));}else console.log(typeservice);setType(e.target.value);};var validateEmail=function validateEmail(e){var email=e.target.value;if(validator.isEmail(email)){setEmailError(\"Valid Email!\");}else{setEmailError(\"Enter valid Email!\");}};var validatePhoneNumber=function validatePhoneNumber(e){var number=e.target.value;var isValidPhoneNumber=validator.isMobilePhone(number,'en-IN');if(isValidPhoneNumber){setPhoneError(\"Valid Phone!\");}else{setPhoneError(\"Invalid Phone!\");}};var nextPage=function nextPage(){if(navigate===true)return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});};var onsubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var name,location,email,phone,address,sp_type,charges;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();name=e.target.elements.full_name.value;location=e.target.elements.location.value;email=e.target.elements.email.value;phone=e.target.elements.phone.value;address=e.target.elements.spAddress.value;sp_type=typeservice;charges=e.target.elements.charges.value*Math.pow(10,18);_context.next=10;return contract.methods.addServiceProvider(name,location,email,phone,charges,sp_type).send({from:address}).then(function(result){console.log(\"The funciton was succesfully terminated\");});case 10:window.location.reload(false);//console.log(name+ location+ email+ phone+ address+ sp_type+ charges);\ncase 11:case\"end\":return _context.stop();}}},_callee);}));return function onsubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"container\",color:\"lightblue\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onsubmit,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up for Service Provider\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"spAddress\",readOnly:true,disabled:true,value:Account}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter full name\",name:\"full_name\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Home adddress\",name:\"home\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter City\",name:\"location\",required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",placeholder:\"Enter Email\",onChange:function onChange(e){return validateEmail(e);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'red'},children:emailError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"phone\",placeholder:\"Enter Phone\",onChange:function onChange(e){return validatePhoneNumber(e);}}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:'bold',color:'red'},children:phoneError}),/*#__PURE__*/_jsx(\"label\",{id:\"service_type\",children:\"Choose Service Type:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"service_type\",className:\"form-control\",onChange:onChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:0,children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"Carpentry\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"Plumbing\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"Painting\"}),/*#__PURE__*/_jsx(\"option\",{value:4,children:\"Electrical\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{id:\"wei\",children:\"Enter Charges(in ETH):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"wei\",step:\"any\",placeholder:\"Enter the charges in ETH.\",name:\"charges\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary mt-2 btn-sm w-50\",children:\"Sign Up\"})]})});};export default withRouter(RegisterServiceProvider);","map":{"version":3,"sources":["/home/demonwolf/WebstormProjects/SPE-final-project/src/components/RegisterServiceProvider.js"],"names":["React","useState","validator","BrowserRouter","withRouter","Redirect","RegisterServiceProvider","Account","contract","typeservice","setType","emailError","setEmailError","phoneError","setPhoneError","navigate","setNavigate","document","title","onChange","e","target","value","Number","console","log","validateEmail","email","isEmail","validatePhoneNumber","number","isValidPhoneNumber","isMobilePhone","nextPage","onsubmit","preventDefault","name","elements","full_name","location","phone","address","spAddress","sp_type","charges","Math","pow","methods","addServiceProvider","send","from","then","result","window","reload","fontWeight","color"],"mappings":"wfAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,iBAAP,CACA,OAAQC,QAAR,KAAuB,OAAvB,CACA,MAAOC,CAAAA,SAAP,KAAsB,WAAtB,CACA,OAAQC,aAAR,KAA4B,kBAA5B,CACA,OAAQC,UAAR,CAAoBC,QAApB,KAAmC,kBAAnC,C,wFAGA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,MAAwB,IAAtBC,CAAAA,OAAsB,MAAtBA,OAAsB,CAAbC,QAAa,MAAbA,QAAa,eACxBP,QAAQ,CAAC,GAAD,CADgB,wCAC/CQ,WAD+C,eACnCC,OADmC,8BAEnBT,QAAQ,CAAC,EAAD,CAFW,yCAE/CU,UAF+C,eAEpCC,aAFoC,8BAGnBX,QAAQ,CAAC,EAAD,CAHW,yCAG/CY,UAH+C,eAGpCC,aAHoC,8BAIvBb,QAAQ,CAAC,KAAD,CAJe,yCAI/Cc,QAJ+C,eAItCC,WAJsC,eAKpDC,QAAQ,CAACC,KAAT,CAAiB,+BAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACpB,GAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,EAAkB,SAArB,CAA+B,CAC3BZ,OAAO,CAACa,MAAM,CAAC,CAAD,CAAP,CAAP,CAAoB,CADxB,IAGIC,CAAAA,OAAO,CAACC,GAAR,CAAYhB,WAAZ,EACJC,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAND,CAOA,GAAMI,CAAAA,aAAa,CAAE,QAAfA,CAAAA,aAAe,CAACN,CAAD,CAAK,CACtB,GAAIO,CAAAA,KAAK,CAAGP,CAAC,CAACC,MAAF,CAASC,KAArB,CAEA,GAAIpB,SAAS,CAAC0B,OAAV,CAAkBD,KAAlB,CAAJ,CAA8B,CAC1Bf,aAAa,CAAC,cAAD,CAAb,CACH,CAFD,IAGK,CACDA,aAAa,CAAE,oBAAF,CAAb,CACH,CACJ,CATD,CAWA,GAAMiB,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACT,CAAD,CAAK,CAC7B,GAAMU,CAAAA,MAAM,CAAGV,CAAC,CAACC,MAAF,CAASC,KAAxB,CACA,GAAMS,CAAAA,kBAAkB,CAAG7B,SAAS,CAAC8B,aAAV,CAAwBF,MAAxB,CAAgC,OAAhC,CAA3B,CACA,GAAGC,kBAAH,CAAsB,CAClBjB,aAAa,CAAC,cAAD,CAAb,CACH,CAFD,IAGK,CACDA,aAAa,CAAC,gBAAD,CAAb,CACH,CACJ,CATD,CAWA,GAAMmB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAK,CAClB,GAAGlB,QAAQ,GAAK,IAAhB,CACI,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,CAAiB,IAAI,CAAE,IAAvB,EAAP,CACP,CAHD,CAKA,GAAMmB,CAAAA,QAAQ,2FAAG,iBAAMd,CAAN,wKACbA,CAAC,CAACe,cAAF,GACMC,IAFO,CAEAhB,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBC,SAAlB,CAA4BhB,KAF5B,CAGPiB,QAHO,CAGInB,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBE,QAAlB,CAA2BjB,KAH/B,CAIPK,KAJO,CAICP,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBV,KAAlB,CAAwBL,KAJzB,CAKPkB,KALO,CAKCpB,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBG,KAAlB,CAAwBlB,KALzB,CAMPmB,OANO,CAMErB,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBK,SAAlB,CAA4BpB,KAN9B,CAOPqB,OAPO,CAOGlC,WAPH,CAQPmC,OARO,CAQCxB,CAAC,CAACC,MAAF,CAASgB,QAAT,CAAkBO,OAAlB,CAA0BtB,KAA1B,CAAkCuB,IAAI,CAACC,GAAL,CAAS,EAAT,CAAY,EAAZ,CARnC,wBASRtC,CAAAA,QAAQ,CAACuC,OAAT,CAAiBC,kBAAjB,CAAoCZ,IAApC,CAAyCG,QAAzC,CAAmDZ,KAAnD,CAAyDa,KAAzD,CAAgEI,OAAhE,CAAyED,OAAzE,EAAkFM,IAAlF,CAAuF,CAACC,IAAI,CAAGT,OAAR,CAAvF,EAAyGU,IAAzG,CAA8G,SAASC,MAAT,CAAgB,CAC/H5B,OAAO,CAACC,GAAR,CAAY,yCAAZ,EACH,CAFI,CATQ,SAYb4B,MAAM,CAACd,QAAP,CAAgBe,MAAhB,CAAuB,KAAvB,EAIA;AAhBa,uDAAH,kBAARpB,CAAAA,QAAQ,6CAAd,CAoBA,mBACI,YAAK,SAAS,CAAC,WAAf,CAA2B,KAAK,CAAE,WAAlC,uBACI,cAAM,QAAQ,CAAEA,QAAhB,wBACI,oDADJ,cACyC,aADzC,cACkD,aADlD,cAEI,cAAO,IAAI,CAAE,MAAb,CAAqB,IAAI,CAAG,WAA5B,CAAwC,QAAQ,CAAE,IAAlD,CAAyD,QAAQ,CAAE,IAAnE,CAAyE,KAAK,CAAE3B,OAAhF,EAFJ,cAE8F,aAF9F,cAEuG,aAFvG,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,iBAA/B,CAAiD,IAAI,CAAC,WAAtD,CAAoE,QAAQ,KAA5E,EAHJ,cAGkF,aAHlF,cAG2F,aAH3F,cAII,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,qBAA/B,CAAqD,IAAI,CAAC,MAA1D,CAAmE,QAAQ,KAA3E,EAJJ,cAIiF,aAJjF,cAI0F,aAJ1F,cAKI,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,YAA/B,CAA4C,IAAI,CAAC,UAAjD,CAA4D,QAAQ,KAApE,EALJ,cAK0E,aAL1E,cAKmF,aALnF,cAMI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,aAA5C,CACO,QAAQ,CAAE,kBAACa,CAAD,QAAOM,CAAAA,aAAa,CAACN,CAAD,CAApB,EADjB,EANJ,kBAOgD,aAPhD,cAOqD,aAPrD,cAO8D,aAP9D,cAQI,aAAM,KAAK,CAAE,CACTmC,UAAU,CAAE,MADH,CAETC,KAAK,CAAE,KAFE,CAAb,UAGI7C,UAHJ,EARJ,cAYI,cAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,aAA5C,CACO,QAAQ,CAAE,kBAACS,CAAD,QAAOS,CAAAA,mBAAmB,CAACT,CAAD,CAA1B,EADjB,EAZJ,kBAasD,aAbtD,cAa2D,aAb3D,cAaoE,aAbpE,cAcI,aAAM,KAAK,CAAE,CACTmC,UAAU,CAAE,MADH,CAETC,KAAK,CAAE,KAFE,CAAb,UAGI3C,UAHJ,EAdJ,cAkBI,cAAO,EAAE,CAAE,cAAX,kCAlBJ,cAmBI,gBAAQ,EAAE,CAAC,cAAX,CAA0B,SAAS,CAAC,cAApC,CAAoD,QAAQ,CAAEM,QAA9D,CAAwE,QAAQ,KAAhF,wBACI,eAAQ,KAAK,CAAI,CAAjB,oBADJ,cAEI,eAAQ,KAAK,CAAI,CAAjB,uBAFJ,cAGI,eAAQ,KAAK,CAAI,CAAjB,sBAHJ,cAII,eAAQ,KAAK,CAAE,CAAf,sBAJJ,cAKI,eAAQ,KAAK,CAAG,CAAhB,wBALJ,GAnBJ,cA0BI,aA1BJ,cA0Ba,aA1Bb,cA2BI,cAAO,EAAE,CAAE,KAAX,oCA3BJ,cA4BI,cAAO,IAAI,CAAC,QAAZ,CAAqB,EAAE,CAAE,KAAzB,CAA+B,IAAI,CAAC,KAApC,CAA0C,WAAW,CAAE,2BAAvD,CAAoF,IAAI,CAAC,SAAzF,EA5BJ,cA4ByG,aA5BzG,cA4BkH,aA5BlH,cA6BI,eAAQ,SAAS,CAAC,kCAAlB,qBA7BJ,GADJ,EADJ,CAqCH,CAjGD,CAmGA,cAAef,CAAAA,UAAU,CAACE,uBAAD,CAAzB","sourcesContent":["import React from \"react\";\nimport 'react-bootstrap';\nimport {useState} from 'react';\nimport validator from \"validator\";\nimport {BrowserRouter} from \"react-router-dom\";\nimport {withRouter, Redirect} from 'react-router-dom'\n\n\nconst RegisterServiceProvider = ({Account, contract}) =>{\n    let [typeservice,setType] = useState(0x0);\n    let [emailError,setEmailError] = useState('');\n    let [phoneError,setPhoneError] = useState('');\n    let [navigate,setNavigate] = useState(false);\n    document.title = \"Service Provider Registration\";\n    const onChange = (e) => {\n        if(e.target.value == \"default\"){\n            setType(Number(0));}\n        else\n            console.log(typeservice);\n        setType(e.target.value);\n    }\n    const validateEmail= (e)=>{\n        let email = e.target.value;\n\n        if (validator.isEmail(email)) {\n            setEmailError(\"Valid Email!\");\n        }\n        else {\n            setEmailError( \"Enter valid Email!\");\n        }\n    }\n\n    const validatePhoneNumber = (e)=>{\n        const number = e.target.value;\n        const isValidPhoneNumber = validator.isMobilePhone(number, 'en-IN')\n        if(isValidPhoneNumber){\n            setPhoneError(\"Valid Phone!\");\n        }\n        else {\n            setPhoneError(\"Invalid Phone!\");\n        }\n    }\n\n    const nextPage = () =>{\n        if(navigate === true)\n            return <Redirect to=\"/\" push={true} />\n    }\n\n    const onsubmit = async(e)=>{\n        e.preventDefault();\n        const name = e.target.elements.full_name.value;\n        const location = e.target.elements.location.value;\n        const email = e.target.elements.email.value;\n        const phone = e.target.elements.phone.value;\n        const address= e.target.elements.spAddress.value;\n        const sp_type = typeservice;\n        const charges=e.target.elements.charges.value * Math.pow(10,18);\n       await contract.methods.addServiceProvider(name,location, email,phone, charges, sp_type).send({from : address}).then(function(result){\n            console.log(\"The funciton was succesfully terminated\");\n        });\n        window.location.reload(false);\n\n\n\n        //console.log(name+ location+ email+ phone+ address+ sp_type+ charges);\n\n    }\n\n    return(\n        <div className=\"container\" color= \"lightblue\">\n            <form onSubmit={onsubmit}>\n                <h1>Sign Up for Service Provider</h1><br></br><br></br>\n                <input type =\"text\"  name = \"spAddress\" readOnly={true}  disabled={true} value={Account}/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter full name\" name=\"full_name\"   required/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter Home adddress\" name=\"home\"   required/><br></br><br></br>\n                <input type=\"text\" placeholder=\"Enter City\" name=\"location\" required/><br></br><br></br>\n                <input type=\"text\" name=\"email\" placeholder=\"Enter Email\"\n                       onChange={(e) => validateEmail(e)}/> <br/><br></br><br></br>\n                <span style={{\n                    fontWeight: 'bold',\n                    color: 'red',\n                }}>{emailError}</span>\n                <input type=\"text\" name=\"phone\" placeholder=\"Enter Phone\"\n                       onChange={(e) => validatePhoneNumber(e)}/> <br/><br></br><br></br>\n                <span style={{\n                    fontWeight: 'bold',\n                    color: 'red',\n                }}>{phoneError}</span>\n                <label id =\"service_type\" >Choose Service Type:</label>\n                <select id=\"service_type\" className=\"form-control\"  onChange={onChange} required>\n                    <option value = {0}>Select</option>\n                    <option value = {1}>Carpentry</option>\n                    <option value = {2}>Plumbing</option>\n                    <option value={3}>Painting</option>\n                    <option value ={4}>Electrical</option>\n                </select>\n                <br></br><br></br>\n                <label id =\"wei\" >Enter Charges(in ETH):</label>\n                <input type=\"number\" id =\"wei\" step=\"any\" placeholder={\"Enter the charges in ETH.\"} name=\"charges\" /><br></br><br></br>\n                <button className=\"btn btn-primary mt-2 btn-sm w-50\">Sign Up</button>\n            </form>\n\n\n        </div>\n    )\n}\n\nexport default withRouter(RegisterServiceProvider);"]},"metadata":{},"sourceType":"module"}