{"ast":null,"code":"import _regeneratorRuntime from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/demonwolf/WebstormProjects/SPE-final-project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{withRouter}from\"react-router\";import React,{Component,useLayoutEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var status=/*#__PURE__*/function(_Component){_inherits(status,_Component);var _super=_createSuper(status);function status(props){var _this;_classCallCheck(this,status);_this=_super.call(this,props);_this.getStatus=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var x;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.contract.methods.ServiceProviders(_this.state.account).call();case 2:x=_context.sent;if(x.status===true)_this.setState({Stat:\"Online\"});else _this.setState({Stat:\"Offline\"});console.log(_this.state.Stat);case 5:case\"end\":return _context.stop();}}},_callee);}));_this.shoot=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return _this.props.contract.methods.service_off().send({from:_this.state.account});case 3:window.location.reload(false);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.state={account:_this.props.account,contract:_this.props.contract,Stat:null};_this.getStatus().then(function(r){console.log(\"Completed\");});return _this;}_createClass(status,[{key:\"render\",value:function render(){document.title=\"Now \"+this.state.Stat;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"button\",{onClick:this.shoot,style:{width:\"100%\",background:\"yellow\",borderRadius:\"1px\"},children:[\" Current Status :\",this.state.Stat,\" \"]})]});}}]);return status;}(Component);export default withRouter(status);","map":{"version":3,"sources":["/home/demonwolf/WebstormProjects/SPE-final-project/src/components/status.js"],"names":["withRouter","React","Component","useLayoutEffect","useState","status","props","getStatus","contract","methods","ServiceProviders","state","account","call","x","setState","Stat","console","log","shoot","e","preventDefault","service_off","send","from","window","location","reload","then","r","document","title","width","background","borderRadius"],"mappings":"m+BAAA,OAAQA,UAAR,KAAyB,cAAzB,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,eAA1B,CAA2CC,QAA3C,KAA0D,OAA1D,C,2FAEMC,CAAAA,M,gGAEF,gBAAYC,KAAZ,CAAkB,wCACd,uBAAMA,KAAN,EADc,MAKlBC,SALkB,sEAKN,+JACM,OAAKD,KAAL,CAAWE,QAAX,CAAoBC,OAApB,CAA4BC,gBAA5B,CAA6C,MAAKC,KAAL,CAAWC,OAAxD,EAAiEC,IAAjE,EADN,QACJC,CADI,eAER,GAAGA,CAAC,CAACT,MAAF,GAAa,IAAhB,CACI,MAAKU,QAAL,CAAc,CAACC,IAAI,CAAE,QAAP,CAAd,EADJ,IAGI,OAAKD,QAAL,CAAc,CAACC,IAAI,CAAE,SAAP,CAAd,EACJC,OAAO,CAACC,GAAR,CAAY,MAAKP,KAAL,CAAWK,IAAvB,EANQ,sDALM,SAclBG,KAdkB,2FAcZ,kBAAMC,CAAN,sHACFA,CAAC,CAACC,cAAF,GADE,uBAEI,OAAKf,KAAL,CAAWE,QAAX,CAAoBC,OAApB,CAA4Ba,WAA5B,GAA0CC,IAA1C,CAA+C,CAACC,IAAI,CAAC,MAAKb,KAAL,CAAWC,OAAjB,CAA/C,CAFJ,QAGFa,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EAHE,wDAdY,gEAEd,MAAKhB,KAAL,CAAY,CAACC,OAAO,CAAC,MAAKN,KAAL,CAAWM,OAApB,CAA6BJ,QAAQ,CAAG,MAAKF,KAAL,CAAWE,QAAnD,CAA6DQ,IAAI,CAAC,IAAlE,CAAZ,CACA,MAAKT,SAAL,GAAiBqB,IAAjB,CAAsB,SAAAC,CAAC,CAAI,CAACZ,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,CAArD,EAHc,aAIjB,C,yCAgBD,iBAAQ,CACJY,QAAQ,CAACC,KAAT,CAAiB,OAAS,KAAKpB,KAAL,CAAWK,IAArC,CACA,mBACI,oCACI,aADJ,cACa,aADb,cAEI,gBAAQ,OAAO,CAAE,KAAKG,KAAtB,CAA6B,KAAK,CAAE,CAACa,KAAK,CAAC,MAAP,CAAcC,UAAU,CAAE,QAA1B,CAAoCC,YAAY,CAAE,KAAlD,CAApC,+BAAgH,KAAKvB,KAAL,CAAWK,IAA3H,OAFJ,GADJ,CAKE,C,oBA7BWd,S,EAgCrB,cAAeF,CAAAA,UAAU,CAACK,MAAD,CAAzB","sourcesContent":["import {withRouter} from \"react-router\";\nimport React, {Component, useLayoutEffect, useState} from \"react\";\n\nclass status extends Component{\n\n    constructor(props){\n        super(props);\n        this.state ={account:this.props.account, contract : this.props.contract, Stat:null}\n        this.getStatus().then(r => {console.log(\"Completed\")});\n    }\n    getStatus = async () =>{\n        let x = await this.props.contract.methods.ServiceProviders(this.state.account).call();\n        if(x.status === true)\n            this.setState({Stat: \"Online\"});\n        else\n            this.setState({Stat: \"Offline\"})\n        console.log(this.state.Stat);\n\n    }\n    shoot=async(e)=> {\n        e.preventDefault();\n        await this.props.contract.methods.service_off().send({from:this.state.account});\n        window.location.reload(false);\n\n    }\n    render(){\n        document.title = \"Now \" + this.state.Stat;\n        return (\n            <div>\n                <br></br><br></br>\n                <button onClick={this.shoot} style={{width:\"100%\",background: \"yellow\", borderRadius :\"1px\"}}> Current Status :{this.state.Stat} </button>\n            </div>\n        )}\n}\n\nexport default withRouter(status);"]},"metadata":{},"sourceType":"module"}